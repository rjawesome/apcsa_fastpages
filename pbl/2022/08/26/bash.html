<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Bash Installer/Checker</h1><p class="page-description">This bash script checks all installations and installs programs if they are missing</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-08-26T00:00:00-05:00" itemprop="datePublished">
        Aug 26, 2022
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Rohan Juneja</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/apcsa_fastpages/categories/#pbl">pbl</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/rjawesome/apcsa_fastpages/tree/master/_notebooks/2022-08-26-bash.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/apcsa_fastpages/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/rjawesome/apcsa_fastpages/master?filepath=_notebooks%2F2022-08-26-bash.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/apcsa_fastpages/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/rjawesome/apcsa_fastpages/blob/master/_notebooks/2022-08-26-bash.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/apcsa_fastpages/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2Frjawesome%2Fapcsa_fastpages%2Fblob%2Fmaster%2F_notebooks%2F2022-08-26-bash.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/apcsa_fastpages/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#Bash-CSA-Installer">Bash CSA Installer </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-08-26-bash.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Bash-CSA-Installer">
<a class="anchor" href="#Bash-CSA-Installer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bash CSA Installer<a class="anchor-link" href="#Bash-CSA-Installer"> </a>
</h1>
<p>This program checks for all installations necessary for CSA and installs them if necessary. Also checks for program versions and upgrades if old versions cause issues (ie. java) and clones/updates the APCSA repository.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this script I used many key features of bash which helped me learn a lot about it:</p>
<ol>
<li>
<strong>If statements:</strong> These were necessary to simply check if things were installed</li>
<li>
<strong>Checking for files and directories:</strong> I used this in conjunction with if statements to determine if both repositories &amp; programs were installed</li>
<li>
<strong>Git Command Line Interface:</strong> In order to use git in my script, I had to use the Git Command Line Interface to update and clone the repository</li>
<li>
<strong>Putting command output to files:</strong> Primarily I did not want to clog the output so I put the output from commands I was running into /dev/null</li>
<li>
<strong>Piping from one command to another:</strong> A lot of times I had to parse/check the output from a specific command so I had to pipe it to the <code>grep</code> or <code>awk</code> commands</li>
<li>
<strong>Variables:</strong> Storing data such as version numbers were useful to keep in variables</li>
<li>
<strong>Running commands in Bash Scripts:</strong> In order to conduct installs in the case that packages weren't installed, I had to run commands inside my bash script, and I also sometimes had to put results from commands into variables</li>
</ol>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span><span class="nb">echo</span> <span class="s2">"Welcome to CSA Installer. Note that installations may require sudo permissions &amp; password to be entered"</span>

<span class="c1"># make sure in home directory of user</span>
<span class="nb">cd</span> ~

<span class="c1"># check anaconda installation</span>
<span class="k">if</span> <span class="nb">command</span> -v anaconda &gt;/dev/null<span class="p">;</span> <span class="k">then</span>
  <span class="nv">anaconda_version</span><span class="o">=</span><span class="sb">`</span>conda --version <span class="p">|</span> awk -F <span class="s2">" "</span> <span class="s1">'{print $2}'</span><span class="sb">`</span>
  <span class="nb">echo</span> <span class="s2">"Anaconda installed (Version </span><span class="nv">$anaconda_version</span><span class="s2">)"</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">"Installing Anaconda"</span>
  wget https://repo.anaconda.com/archive/Anaconda3-2022.05-Linux-x86_64.sh
  ./Anaconda3-2022.05-Linux-x86_64.sh
<span class="k">fi</span>

<span class="c1"># check python 3 installation</span>
<span class="k">if</span> python3 --version <span class="p">|</span> grep <span class="s2">"Python 3"</span> &gt;/dev/null<span class="p">;</span> <span class="k">then</span>
  <span class="nv">python3_version</span><span class="o">=</span><span class="sb">`</span>python3 --version <span class="p">|</span> awk -F <span class="s2">" "</span> <span class="s1">'{print $2}'</span><span class="sb">`</span>
  <span class="nb">echo</span> <span class="s2">"Python </span><span class="nv">$python3_version</span><span class="s2"> installed"</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">"Installing Python 3"</span>
  sudo apt install python3 python3-pip
<span class="k">fi</span>

<span class="c1"># check python 2 installation</span>
<span class="k">if</span> python2 --version <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> grep <span class="s2">"Python 2"</span> &gt;/dev/null<span class="p">;</span> <span class="k">then</span>
  <span class="nv">python2_version</span><span class="o">=</span><span class="sb">`</span>python2 --version <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> awk -F <span class="s2">" "</span> <span class="s1">'{print $2}'</span><span class="sb">`</span>
  <span class="nb">echo</span> <span class="s2">"Python </span><span class="nv">$python2_version</span><span class="s2"> installed"</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">"Installing Python 2"</span>
  sudo apt install python2
<span class="k">fi</span>

<span class="c1">#check java installation and java version</span>
<span class="nv">java_version</span><span class="o">=</span><span class="sb">`</span>java --version <span class="p">|</span> head -n <span class="m">1</span> <span class="p">|</span> awk -F <span class="s2">" "</span> <span class="s1">'{print $2}'</span> <span class="p">|</span> awk -F <span class="s2">"."</span> <span class="s1">'{print $1}'</span><span class="sb">`</span>
<span class="k">if</span> <span class="o">[[</span> <span class="nv">$java_version</span> -ge <span class="m">11</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">"Java installed with Version 11 or Better (Version </span><span class="nv">$java_version</span><span class="s2">)"</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">"Installing Java Version 11 (Version too low or Java not installed)"</span>
  sudo add-apt-repository ppa:openjdk-r/ppa 
  sudo apt update
  sudo apt install openjdk-11-jdk
<span class="k">fi</span>

<span class="c1">#check jupyter installation</span>
<span class="k">if</span> <span class="o">[[</span> -f ~/anaconda3/bin/jupyter  <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nv">jupyter_version</span><span class="o">=</span><span class="sb">`</span>jupyter --version <span class="p">|</span> grep jupyter_core <span class="p">|</span> awk -F <span class="s2">": "</span> <span class="s1">'{print $2}'</span><span class="sb">`</span>
  <span class="nb">echo</span> <span class="s2">"Jupyter installed (Version </span><span class="nv">$jupyter_version</span><span class="s2">)"</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">"Installing jupyter"</span>
  ~/anaconda3/bin/conda install jupyter
<span class="k">fi</span>

<span class="c1">#check bash kernel installation</span>
<span class="k">if</span> ~/anaconda3/bin/jupyter kernelspec list <span class="p">|</span> grep bash &gt;/dev/null<span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">"Bash Kernel Installed"</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">"Installing Bash Kernel"</span>
  pip3 install bash_kernel
  python3 -m bash_kernel.install
<span class="k">fi</span>

<span class="c1">#check java kernel installation</span>
<span class="k">if</span> ~/anaconda3/bin/jupyter kernelspec list <span class="p">|</span> grep java &gt;/dev/null<span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">"Java Kernel Installed"</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">"Installing Java Kernel"</span>
  wget https://github.com/SpencerPark/IJava/releases/download/v1.3.0/ijava-1.3.0.zip
  unzip ijava-1.3.0.zip
  python3 install.py --user
<span class="k">fi</span>

<span class="c1">#create vscode directory if necessary</span>
<span class="k">if</span> <span class="o">[[</span> ! -d ~/vscode <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">"Creating vscode directory"</span>
  mkdir vscode
<span class="k">fi</span>

<span class="c1">#clone APCSA repository if necessary</span>
<span class="k">if</span> <span class="o">[[</span> ! -d ~/vscode/APCSA <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">"Cloning APCSA repository"</span>
  <span class="nb">cd</span> vscode
  git clone https://github.com/nighthawkcoders/APCSA <span class="m">2</span>&gt;/dev/null
  <span class="nb">cd</span> ..
<span class="k">fi</span>

<span class="c1">#update APCSA repository</span>
<span class="nb">echo</span> <span class="s2">"Updating APCSA repository"</span>
<span class="nb">cd</span> vscode/APCSA
git pull <span class="m">2</span>&gt;/dev/null
<span class="nb">cd</span> ../..
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Welcome to CSA Installer. Note that installations may require sudo permissions &amp; password to be entered
Anaconda installed (Version 4.13.0)
Python 3.9.12 installed
Python 2.7.12 installed
Java installed with Version 11 or Better (Version 11)
Jupyter installed (Version 4.9.2)
Bash Kernel Installed
Java Kernel Installed
Updating APCSA repository
Updating 2e5c105..5e8fdb9
Fast-forward
 .../2022-08-22-TT110-anthony_and_sahil.ipynb       |  23 <span class="ansi-green-fg">+++++++++</span><span class="ansi-red-fg">--</span>
 _pages/00_schedule.md                              |  42 <span class="ansi-green-fg">++++++++++++</span><span class="ansi-red-fg">---------</span>
 _posts/2022-06-01-AR100-bitcoin_numbers.md         |  34 <span class="ansi-green-fg">+++++++++++++++++</span>
 _posts/2022-08-29-PT120-using_objects.md           |  21 <span class="ansi-green-fg">++++++</span><span class="ansi-red-fg">-----</span>
 _posts/2022-08-29-TR120-team_innovation.md         |  13 <span class="ansi-green-fg">+++</span><span class="ansi-red-fg">----</span>
 _posts/2022-09-05-PT130-free_response.md           |  38 <span class="ansi-green-fg">+++++++++++++++++++</span>
 images/bitcoin.png                                 | Bin <span class="ansi-red-fg">0</span> -&gt; <span class="ansi-green-fg">4303</span> bytes
 7 files changed, 132 insertions(+), 39 deletions(-)
 create mode 100644 _posts/2022-06-01-AR100-bitcoin_numbers.md
 create mode 100644 _posts/2022-09-05-PT130-free_response.md
 create mode 100644 images/bitcoin.png
</pre>
</div>
</div>

</div>
</div>

</div>
    

</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="rjawesome/apcsa_fastpages"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/apcsa_fastpages/pbl/2022/08/26/bash.html" hidden></a>
</article>
